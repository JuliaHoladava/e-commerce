"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[45],{4503:(e,t,n)=>{n.d(t,{Z:()=>U});var o=n(1413),r=n(9439),i=n(4925),a=n(7294),u=n(3935),l=n(8924),c=(n(334),n(2550));const s=a.createContext(null);var f=n(3433),p=n(8410),v=[],d=n(3150),h=n(4204),m="rc-util-locker-".concat(Date.now()),g=0;var y=!1,b=function(e){return!1!==e&&((0,l.Z)()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)};const Z=a.forwardRef((function(e,t){var n=e.open,o=e.autoLock,i=e.getContainer,Z=(e.debug,e.autoDestroy),x=void 0===Z||Z,w=e.children,E=a.useState(n),C=(0,r.Z)(E,2),M=C[0],P=C[1],k=M||n;a.useEffect((function(){(x||n)&&P(n)}),[n,x]);var L=a.useState((function(){return b(i)})),S=(0,r.Z)(L,2),A=S[0],R=S[1];a.useEffect((function(){var e=b(i);R(null!=e?e:null)}));var N=function(e,t){var n=a.useState((function(){return(0,l.Z)()?document.createElement("div"):null})),o=(0,r.Z)(n,1)[0],i=a.useRef(!1),u=a.useContext(s),c=a.useState(v),d=(0,r.Z)(c,2),h=d[0],m=d[1],g=u||(i.current?void 0:function(e){m((function(t){return[e].concat((0,f.Z)(t))}))});function y(){o.parentElement||document.body.appendChild(o),i.current=!0}function b(){var e;null===(e=o.parentElement)||void 0===e||e.removeChild(o),i.current=!1}return(0,p.Z)((function(){return e?u?u(y):y():b(),b}),[e]),(0,p.Z)((function(){h.length&&(h.forEach((function(e){return e()})),m(v))}),[h]),[o,g]}(k&&!A),D=(0,r.Z)(N,2),H=D[0],Y=D[1],T=null!=A?A:H;!function(e){var t=!!e,n=a.useState((function(){return g+=1,"".concat(m,"_").concat(g)})),o=(0,r.Z)(n,1)[0];(0,p.Z)((function(){if(t){var e=(0,h.o)(document.body).width,n=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;(0,d.hq)("\nhtml body {\n  overflow-y: hidden;\n  ".concat(n?"width: calc(100% - ".concat(e,"px);"):"","\n}"),o)}else(0,d.jL)(o);return function(){(0,d.jL)(o)}}),[t,o])}(o&&n&&(0,l.Z)()&&(T===H||T===document.body));var W=null;w&&(0,c.Yr)(w)&&t&&(W=w.ref);var X=(0,c.x1)(W,t);if(!k||!(0,l.Z)()||void 0===A)return null;var B=!1===T||y,z=w;return t&&(z=a.cloneElement(w,{ref:X})),a.createElement(s.Provider,{value:Y},B?z:(0,u.createPortal)(z,T))}));var x=n(4184),w=n.n(x),E=n(8717),C=n(4203),M=n(7571),P=n(6680),k=n(7028),L=n(1131);const S=a.createContext(null);function A(e){return e?Array.isArray(e)?e:[e]:[]}var R=n(5110);function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function D(e,t,n,o){return t||(n?{motionName:"".concat(e,"-").concat(n)}:o?{motionName:o}:null)}function H(e){return e.ownerDocument.defaultView}function Y(e){for(var t=[],n=null==e?void 0:e.parentElement,o=["hidden","scroll","clip","auto"];n;){var r=H(n).getComputedStyle(n);[r.overflowX,r.overflowY,r.overflow].some((function(e){return o.includes(e)}))&&t.push(n),n=n.parentElement}return t}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function W(e){return T(parseFloat(e),0)}function X(e,t){var n=(0,o.Z)({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=H(e).getComputedStyle(e),o=t.overflow,r=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,u=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),s=e.offsetHeight,f=e.clientHeight,p=e.offsetWidth,v=e.clientWidth,d=W(i),h=W(a),m=W(u),g=W(l),y=T(Math.round(c.width/p*1e3)/1e3),b=T(Math.round(c.height/s*1e3)/1e3),Z=(p-v-m-g)*y,x=(s-f-d-h)*b,w=d*b,E=h*b,C=m*y,M=g*y,P=0,k=0;if("clip"===o){var L=W(r);P=L*y,k=L*b}var S=c.x+C-P,A=c.y+w-k,R=S+c.width+2*P-C-M-Z,N=A+c.height+2*k-w-E-x;n.left=Math.max(n.left,S),n.top=Math.max(n.top,A),n.right=Math.min(n.right,R),n.bottom=Math.min(n.bottom,N)}})),n}function B(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function z(e,t){var n=t||[],o=(0,r.Z)(n,2),i=o[0],a=o[1];return[B(e.width,i),B(e.height,a)]}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function O(e,t){var n,o=t[0],r=t[1];return n="t"===o?e.y:"b"===o?e.y+e.height:e.y+e.height/2,{x:"l"===r?e.x:"r"===r?e.x+e.width:e.x+e.width/2,y:n}}function F(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,o){return o===t?n[e]||"c":e})).join("")}n(6790);var I=n(5164),j=n(7462),_=n(5461);function q(e){var t=e.prefixCls,n=e.align,o=e.arrow,r=e.arrowPos,i=o||{},u=i.className,l=i.content,c=r.x,s=void 0===c?0:c,f=r.y,p=void 0===f?0:f,v=a.useRef();if(!n||!n.points)return null;var d={position:"absolute"};if(!1!==n.autoArrow){var h=n.points[0],m=n.points[1],g=h[0],y=h[1],b=m[0],Z=m[1];g!==b&&["t","b"].includes(g)?"t"===g?d.top=0:d.bottom=0:d.top=p,y!==Z&&["l","r"].includes(y)?"l"===y?d.left=0:d.right=0:d.left=s}return a.createElement("div",{ref:v,className:w()("".concat(t,"-arrow"),u),style:d},l)}function J(e){var t=e.prefixCls,n=e.open,o=e.zIndex,r=e.mask,i=e.motion;return r?a.createElement(_.ZP,(0,j.Z)({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return a.createElement("div",{style:{zIndex:o},className:w()("".concat(t,"-mask"),n)})})):null}const Q=a.memo((function(e){return e.children}),(function(e,t){return t.cache}));const $=a.forwardRef((function(e,t){var n=e.popup,i=e.className,u=e.prefixCls,l=e.style,s=e.target,f=e.onVisibleChanged,v=e.open,d=e.keepDom,h=e.onClick,m=e.mask,g=e.arrow,y=e.arrowPos,b=e.align,Z=e.motion,x=e.maskMotion,C=e.forceRender,M=e.getPopupContainer,P=e.autoDestroy,k=e.portal,L=e.zIndex,S=e.onMouseEnter,A=e.onMouseLeave,R=e.onPointerEnter,N=e.ready,D=e.offsetX,H=e.offsetY,Y=e.offsetR,T=e.offsetB,W=e.onAlign,X=e.onPrepare,B=e.stretch,z=e.targetWidth,V=e.targetHeight,O="function"==typeof n?n():n,F=v||d,I=(null==M?void 0:M.length)>0,$=a.useState(!M||!I),G=(0,r.Z)($,2),K=G[0],U=G[1];if((0,p.Z)((function(){!K&&I&&s&&U(!0)}),[K,I,s]),!K)return null;var ee="auto",te={left:"-1000vw",top:"-1000vh",right:ee,bottom:ee};if(N||!v){var ne=b.points,oe=b._experimental,re=null==oe?void 0:oe.dynamicInset,ie=re&&"r"===ne[0][1],ae=re&&"b"===ne[0][0];ie?(te.right=Y,te.left=ee):(te.left=D,te.right=ee),ae?(te.bottom=T,te.top=ee):(te.top=H,te.bottom=ee)}var ue={};return B&&(B.includes("height")&&V?ue.height=V:B.includes("minHeight")&&V&&(ue.minHeight=V),B.includes("width")&&z?ue.width=z:B.includes("minWidth")&&z&&(ue.minWidth=z)),v||(ue.pointerEvents="none"),a.createElement(k,{open:C||F,getContainer:M&&function(){return M(s)},autoDestroy:P},a.createElement(J,{prefixCls:u,open:v,zIndex:L,mask:m,motion:x}),a.createElement(E.Z,{onResize:W,disabled:!v},(function(e){return a.createElement(_.ZP,(0,j.Z)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:C,leavedClassName:"".concat(u,"-hidden")},Z,{onAppearPrepare:X,onEnterPrepare:X,visible:v,onVisibleChanged:function(e){var t;null==Z||null===(t=Z.onVisibleChanged)||void 0===t||t.call(Z,e),f(e)}}),(function(n,r){var s=n.className,f=n.style,p=w()(u,s,i);return a.createElement("div",{ref:(0,c.sQ)(e,t,r),className:p,style:(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({"--arrow-x":"".concat(y.x||0,"px"),"--arrow-y":"".concat(y.y||0,"px")},te),ue),f),{},{boxSizing:"border-box",zIndex:L},l),onMouseEnter:S,onMouseLeave:A,onPointerEnter:R,onClick:h},g&&a.createElement(q,{prefixCls:u,arrow:g,arrowPos:y,align:b}),a.createElement(Q,{cache:!v},O))}))})))})),G=a.forwardRef((function(e,t){var n=e.children,o=e.getTriggerDOMNode,r=(0,c.Yr)(n),i=a.useCallback((function(e){(0,c.mH)(t,o?o(e):e)}),[o]),u=(0,c.x1)(i,n.ref);return r?a.cloneElement(n,{ref:u}):n}));var K=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return a.forwardRef((function(t,n){var l=t.prefixCls,c=void 0===l?"rc-trigger-popup":l,s=t.children,v=t.action,d=void 0===v?"hover":v,h=t.showAction,m=t.hideAction,g=t.popupVisible,y=t.defaultPopupVisible,b=t.onPopupVisibleChange,Z=t.afterPopupVisibleChange,x=t.mouseEnterDelay,W=t.mouseLeaveDelay,B=void 0===W?.1:W,j=t.focusDelay,_=t.blurDelay,q=t.mask,J=t.maskClosable,Q=void 0===J||J,U=t.getPopupContainer,ee=t.forceRender,te=t.autoDestroy,ne=t.destroyPopupOnHide,oe=t.popup,re=t.popupClassName,ie=t.popupStyle,ae=t.popupPlacement,ue=t.builtinPlacements,le=void 0===ue?{}:ue,ce=t.popupAlign,se=t.zIndex,fe=t.stretch,pe=t.getPopupClassNameFromAlign,ve=t.alignPoint,de=t.onPopupClick,he=t.onPopupAlign,me=t.arrow,ge=t.popupMotion,ye=t.maskMotion,be=t.popupTransitionName,Ze=t.popupAnimation,xe=t.maskTransitionName,we=t.maskAnimation,Ee=t.className,Ce=t.getTriggerDOMNode,Me=(0,i.Z)(t,K),Pe=te||ne||!1,ke=a.useState(!1),Le=(0,r.Z)(ke,2),Se=Le[0],Ae=Le[1];(0,p.Z)((function(){Ae((0,L.Z)())}),[]);var Re=a.useRef({}),Ne=a.useContext(S),De=a.useMemo((function(){return{registerSubPopup:function(e,t){Re.current[e]=t,null==Ne||Ne.registerSubPopup(e,t)}}}),[Ne]),He=(0,k.Z)(),Ye=a.useState(null),Te=(0,r.Z)(Ye,2),We=Te[0],Xe=Te[1],Be=(0,P.Z)((function(e){(0,C.S)(e)&&We!==e&&Xe(e),null==Ne||Ne.registerSubPopup(He,e)})),ze=a.useState(null),Ve=(0,r.Z)(ze,2),Oe=Ve[0],Fe=Ve[1],Ie=(0,P.Z)((function(e){(0,C.S)(e)&&Oe!==e&&Fe(e)})),je=a.Children.only(s),_e=(null==je?void 0:je.props)||{},qe={},Je=(0,P.Z)((function(e){var t,n,o=Oe;return(null==o?void 0:o.contains(e))||(null===(t=(0,M.A)(o))||void 0===t?void 0:t.host)===e||e===o||(null==We?void 0:We.contains(e))||(null===(n=(0,M.A)(We))||void 0===n?void 0:n.host)===e||e===We||Object.values(Re.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),Qe=D(c,ge,Ze,be),$e=D(c,ye,we,xe),Ge=a.useState(y||!1),Ke=(0,r.Z)(Ge,2),Ue=Ke[0],et=Ke[1],tt=null!=g?g:Ue,nt=(0,P.Z)((function(e){void 0===g&&et(e)}));(0,p.Z)((function(){et(g||!1)}),[g]);var ot=a.useRef(tt);ot.current=tt;var rt=(0,P.Z)((function(e){(0,u.flushSync)((function(){tt!==e&&(nt(e),null==b||b(e))}))})),it=a.useRef(),at=function(){clearTimeout(it.current)},ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;at(),0===t?rt(e):it.current=setTimeout((function(){rt(e)}),1e3*t)};a.useEffect((function(){return at}),[]);var lt=a.useState(!1),ct=(0,r.Z)(lt,2),st=ct[0],ft=ct[1];(0,p.Z)((function(e){e&&!tt||ft(!0)}),[tt]);var pt=a.useState(null),vt=(0,r.Z)(pt,2),dt=vt[0],ht=vt[1],mt=a.useState([0,0]),gt=(0,r.Z)(mt,2),yt=gt[0],bt=gt[1],Zt=function(e){bt([e.clientX,e.clientY])},xt=function(e,t,n,i,u,l,c){var s=a.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:u[i]||{}}),f=(0,r.Z)(s,2),v=f[0],d=f[1],h=a.useRef(0),m=a.useMemo((function(){return t?Y(t):[]}),[t]),g=a.useRef({});e||(g.current={});var y=(0,P.Z)((function(){if(t&&n&&e){var a,s,f,p=t,v=p.ownerDocument,h=H(p).getComputedStyle(p),y=h.width,b=h.height,Z=h.position,x=p.style.left,w=p.style.top,E=p.style.right,M=p.style.bottom,P=(0,o.Z)((0,o.Z)({},u[i]),l),k=v.createElement("div");if(null===(a=p.parentElement)||void 0===a||a.appendChild(k),k.style.left="".concat(p.offsetLeft,"px"),k.style.top="".concat(p.offsetTop,"px"),k.style.position=Z,k.style.height="".concat(p.offsetHeight,"px"),k.style.width="".concat(p.offsetWidth,"px"),p.style.left="0",p.style.top="0",p.style.right="auto",p.style.bottom="auto",Array.isArray(n))f={x:n[0],y:n[1],width:0,height:0};else{var L=n.getBoundingClientRect();f={x:L.x,y:L.y,width:L.width,height:L.height}}var S=p.getBoundingClientRect(),A=v.documentElement,N=A.clientWidth,D=A.clientHeight,Y=A.scrollWidth,W=A.scrollHeight,B=A.scrollTop,I=A.scrollLeft,j=S.height,_=S.width,q=f.height,J=f.width,Q={left:0,top:0,right:N,bottom:D},$={left:-I,top:-B,right:Y-I,bottom:W-B},G=P.htmlRegion,K="visible",U="visibleFirst";"scroll"!==G&&G!==U&&(G=K);var ee=G===U,te=X($,m),ne=X(Q,m),oe=G===K?ne:te,re=ee?ne:oe;p.style.left="auto",p.style.top="auto",p.style.right="0",p.style.bottom="0";var ie=p.getBoundingClientRect();p.style.left=x,p.style.top=w,p.style.right=E,p.style.bottom=M,null===(s=p.parentElement)||void 0===s||s.removeChild(k);var ae=T(Math.round(_/parseFloat(y)*1e3)/1e3),ue=T(Math.round(j/parseFloat(b)*1e3)/1e3);if(0===ae||0===ue||(0,C.S)(n)&&!(0,R.Z)(n))return;var le=P.offset,ce=P.targetOffset,se=z(S,le),fe=(0,r.Z)(se,2),pe=fe[0],ve=fe[1],de=z(f,ce),he=(0,r.Z)(de,2),me=he[0],ge=he[1];f.x-=me,f.y-=ge;var ye=P.points||[],be=(0,r.Z)(ye,2),Ze=be[0],xe=V(be[1]),we=V(Ze),Ee=O(f,xe),Ce=O(S,we),Me=(0,o.Z)({},P),Pe=Ee.x-Ce.x+pe,ke=Ee.y-Ce.y+ve;function Zt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe,o=S.x+e,r=S.y+t,i=o+_,a=r+j,u=Math.max(o,n.left),l=Math.max(r,n.top),c=Math.min(i,n.right),s=Math.min(a,n.bottom);return Math.max(0,(c-u)*(s-l))}var Le,Se,Ae,Re,Ne=Zt(Pe,ke),De=Zt(Pe,ke,ne),He=O(f,["t","l"]),Ye=O(S,["t","l"]),Te=O(f,["b","r"]),We=O(S,["b","r"]),Xe=P.overflow||{},Be=Xe.adjustX,ze=Xe.adjustY,Ve=Xe.shiftX,Oe=Xe.shiftY,Fe=function(e){return"boolean"==typeof e?e:e>=0};function xt(){Le=S.y+ke,Se=Le+j,Ae=S.x+Pe,Re=Ae+_}xt();var Ie=Fe(ze),je=we[0]===xe[0];if(Ie&&"t"===we[0]&&(Se>re.bottom||g.current.bt)){var _e=ke;je?_e-=j-q:_e=He.y-We.y-ve;var qe=Zt(Pe,_e),Je=Zt(Pe,_e,ne);qe>Ne||qe===Ne&&(!ee||Je>=De)?(g.current.bt=!0,ke=_e,ve=-ve,Me.points=[F(we,0),F(xe,0)]):g.current.bt=!1}if(Ie&&"b"===we[0]&&(Le<re.top||g.current.tb)){var Qe=ke;je?Qe+=j-q:Qe=Te.y-Ye.y-ve;var $e=Zt(Pe,Qe),Ge=Zt(Pe,Qe,ne);$e>Ne||$e===Ne&&(!ee||Ge>=De)?(g.current.tb=!0,ke=Qe,ve=-ve,Me.points=[F(we,0),F(xe,0)]):g.current.tb=!1}var Ke=Fe(Be),Ue=we[1]===xe[1];if(Ke&&"l"===we[1]&&(Re>re.right||g.current.rl)){var et=Pe;Ue?et-=_-J:et=He.x-We.x-pe;var tt=Zt(et,ke),nt=Zt(et,ke,ne);tt>Ne||tt===Ne&&(!ee||nt>=De)?(g.current.rl=!0,Pe=et,pe=-pe,Me.points=[F(we,1),F(xe,1)]):g.current.rl=!1}if(Ke&&"r"===we[1]&&(Ae<re.left||g.current.lr)){var ot=Pe;Ue?ot+=_-J:ot=Te.x-Ye.x-pe;var rt=Zt(ot,ke),it=Zt(ot,ke,ne);rt>Ne||rt===Ne&&(!ee||it>=De)?(g.current.lr=!0,Pe=ot,pe=-pe,Me.points=[F(we,1),F(xe,1)]):g.current.lr=!1}xt();var at=!0===Ve?0:Ve;"number"==typeof at&&(Ae<ne.left&&(Pe-=Ae-ne.left-pe,f.x+J<ne.left+at&&(Pe+=f.x-ne.left+J-at)),Re>ne.right&&(Pe-=Re-ne.right-pe,f.x>ne.right-at&&(Pe+=f.x-ne.right+at)));var ut=!0===Oe?0:Oe;"number"==typeof ut&&(Le<ne.top&&(ke-=Le-ne.top-ve,f.y+q<ne.top+ut&&(ke+=f.y-ne.top+q-ut)),Se>ne.bottom&&(ke-=Se-ne.bottom-ve,f.y>ne.bottom-ut&&(ke+=f.y-ne.bottom+ut)));var lt=S.x+Pe,ct=lt+_,st=S.y+ke,ft=st+j,pt=f.x,vt=pt+J,dt=f.y,ht=dt+q,mt=(Math.max(lt,pt)+Math.min(ct,vt))/2-lt,gt=(Math.max(st,dt)+Math.min(ft,ht))/2-st;null==c||c(t,Me);var yt=ie.right-S.x-(Pe+S.width),bt=ie.bottom-S.y-(ke+S.height);d({ready:!0,offsetX:Pe/ae,offsetY:ke/ue,offsetR:yt/ae,offsetB:bt/ue,arrowX:mt/ae,arrowY:gt/ue,scaleX:ae,scaleY:ue,align:Me})}})),b=function(){d((function(e){return(0,o.Z)((0,o.Z)({},e),{},{ready:!1})}))};return(0,p.Z)(b,[i]),(0,p.Z)((function(){e||b()}),[e]),[v.ready,v.offsetX,v.offsetY,v.offsetR,v.offsetB,v.arrowX,v.arrowY,v.scaleX,v.scaleY,v.align,function(){h.current+=1;var e=h.current;Promise.resolve().then((function(){h.current===e&&y()}))}]}(tt,We,ve?yt:Oe,ae,le,ce,he),wt=(0,r.Z)(xt,11),Et=wt[0],Ct=wt[1],Mt=wt[2],Pt=wt[3],kt=wt[4],Lt=wt[5],St=wt[6],At=wt[7],Rt=wt[8],Nt=wt[9],Dt=wt[10],Ht=function(e,t,n,o){return a.useMemo((function(){var r=A(null!=n?n:t),i=A(null!=o?o:t),a=new Set(r),u=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[a,u]}),[e,t,n,o])}(Se,d,h,m),Yt=(0,r.Z)(Ht,2),Tt=Yt[0],Wt=Yt[1],Xt=Tt.has("click"),Bt=Wt.has("click")||Wt.has("contextMenu"),zt=(0,P.Z)((function(){st||Dt()}));!function(e,t,n,o,r){(0,p.Z)((function(){if(e&&t&&n){var r=n,i=Y(t),a=Y(r),u=H(r),l=new Set([u].concat((0,f.Z)(i),(0,f.Z)(a)));function c(){o(),ot.current&&ve&&Bt&&ut(!1)}return l.forEach((function(e){e.addEventListener("scroll",c,{passive:!0})})),u.addEventListener("resize",c,{passive:!0}),o(),function(){l.forEach((function(e){e.removeEventListener("scroll",c),u.removeEventListener("resize",c)}))}}}),[e,t,n])}(tt,Oe,We,zt),(0,p.Z)((function(){zt()}),[yt,ae]),(0,p.Z)((function(){!tt||null!=le&&le[ae]||zt()}),[JSON.stringify(ce)]);var Vt=a.useMemo((function(){var e=function(e,t,n,o){for(var r=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var u,l=i[a];if(N(null===(u=e[l])||void 0===u?void 0:u.points,r,o))return"".concat(t,"-placement-").concat(l)}return""}(le,c,Nt,ve);return w()(e,null==pe?void 0:pe(Nt))}),[Nt,pe,le,c,ve]);a.useImperativeHandle(n,(function(){return{forceAlign:zt}})),(0,p.Z)((function(){dt&&(Dt(),dt(),ht(null))}),[dt]);var Ot=a.useState(0),Ft=(0,r.Z)(Ot,2),It=Ft[0],jt=Ft[1],_t=a.useState(0),qt=(0,r.Z)(_t,2),Jt=qt[0],Qt=qt[1];function $t(e,t,n,o){qe[e]=function(r){var i;null==o||o(r),ut(t,n);for(var a=arguments.length,u=new Array(a>1?a-1:0),l=1;l<a;l++)u[l-1]=arguments[l];null===(i=_e[e])||void 0===i||i.call.apply(i,[_e,r].concat(u))}}(Xt||Bt)&&(qe.onClick=function(e){var t;ot.current&&Bt?ut(!1):!ot.current&&Xt&&(Zt(e),ut(!0));for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=_e.onClick)||void 0===t||t.call.apply(t,[_e,e].concat(o))}),function(e,t,n,o,i,u,l,c){var s=a.useRef(e),f=a.useRef(!1);s.current!==e&&(f.current=!0,s.current=e),a.useEffect((function(){var e=(0,I.Z)((function(){f.current=!1}));return function(){I.Z.cancel(e)}}),[e]),a.useEffect((function(){if(t&&o&&(!i||u)){var e=function(){var e=!1;return[function(t){var n=t.target;e=l(n)},function(t){var n=t.target;f.current||!s.current||e||l(n)||c(!1)}]},a=e(),p=(0,r.Z)(a,2),v=p[0],d=p[1],h=e(),m=(0,r.Z)(h,2),g=m[0],y=m[1],b=H(o);b.addEventListener("mousedown",v,!0),b.addEventListener("click",d,!0),b.addEventListener("contextmenu",d,!0);var Z=(0,M.A)(n);return Z&&(Z.addEventListener("mousedown",g,!0),Z.addEventListener("click",y,!0),Z.addEventListener("contextmenu",y,!0)),function(){b.removeEventListener("mousedown",v,!0),b.removeEventListener("click",d,!0),b.removeEventListener("contextmenu",d,!0),Z&&(Z.removeEventListener("mousedown",g,!0),Z.removeEventListener("click",y,!0),Z.removeEventListener("contextmenu",y,!0))}}}),[t,n,o,i,u])}(tt,Bt,Oe,We,q,Q,Je,ut);var Gt,Kt,Ut=Tt.has("hover"),en=Wt.has("hover");Ut&&($t("onMouseEnter",!0,x,(function(e){Zt(e)})),$t("onPointerEnter",!0,x,(function(e){Zt(e)})),Gt=function(){(tt||st)&&ut(!0,x)},ve&&(qe.onMouseMove=function(e){var t;null===(t=_e.onMouseMove)||void 0===t||t.call(_e,e)})),en&&($t("onMouseLeave",!1,B),$t("onPointerLeave",!1,B),Kt=function(){ut(!1,B)}),Tt.has("focus")&&$t("onFocus",!0,j),Wt.has("focus")&&$t("onBlur",!1,_),Tt.has("contextMenu")&&(qe.onContextMenu=function(e){var t;ot.current&&Wt.has("contextMenu")?ut(!1):(Zt(e),ut(!0)),e.preventDefault();for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];null===(t=_e.onContextMenu)||void 0===t||t.call.apply(t,[_e,e].concat(o))}),Ee&&(qe.className=w()(_e.className,Ee));var tn=(0,o.Z)((0,o.Z)({},_e),qe),nn={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){Me[e]&&(nn[e]=function(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null===(t=tn[e])||void 0===t||t.call.apply(t,[tn].concat(o)),Me[e].apply(Me,o)})}));var on=a.cloneElement(je,(0,o.Z)((0,o.Z)({},tn),nn)),rn={x:Lt,y:St},an=me?(0,o.Z)({},!0!==me?me:{}):null;return a.createElement(a.Fragment,null,a.createElement(E.Z,{disabled:!tt,ref:Ie,onResize:function(e,t){if(zt(),fe){var n=t.getBoundingClientRect();jt(n.width),Qt(n.height)}}},a.createElement(G,{getTriggerDOMNode:Ce},on)),a.createElement(S.Provider,{value:De},a.createElement($,{portal:e,ref:Be,prefixCls:c,popup:oe,className:w()(re,Vt),style:ie,target:Oe,onMouseEnter:Gt,onMouseLeave:Kt,onPointerEnter:Gt,zIndex:se,open:tt,keepDom:st,onClick:de,mask:q,motion:Qe,maskMotion:$e,onVisibleChanged:function(e){ft(!1),Dt(),null==Z||Z(e)},onPrepare:function(){return new Promise((function(e){ht((function(){return e}))}))},forceRender:ee,autoDestroy:Pe,getPopupContainer:U,align:Nt,arrow:an,arrowPos:rn,ready:Et,offsetX:Ct,offsetY:Mt,offsetR:Pt,offsetB:kt,onAlign:zt,stretch:fe,targetWidth:It/At,targetHeight:Jt/Rt})))}))}(Z)}}]);