"use strict";(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[329],{7290:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(7294),l=a(2823),n=a(4309),r=a(8948),o=a(6642),i=a(8508),c=a(4094),m=a(8958),d=a(5542),u=a(1970),p=a(8712),h=a(6782);const g=()=>{const{signIn:e}=(0,c.Z)(),t=(0,n.s0)(),a=(0,n.HJ)(),[g,w]=(0,s.useState)(!1);return s.createElement(s.Fragment,null,(g||"loading"===a.state)&&s.createElement(h.Z,{pageClassname:"registration",isDataFetching:g||"loading"===a.state}),s.createElement(r.J9,{initialValues:{email:"",password:""},validationSchema:i.pj,onSubmit:async a=>{w(!0);const{email:s,password:n}=a;try{await u.x(s,n);const a=await(0,o.k0)(s,n);null!==a&&"object"==typeof a&&(l.ZP.info({content:"Добро пожаловать!"}),e((()=>t("/"))),(0,o.F_)(a))}catch(e){w(!1);const t=e,{response:{data:{statusCode:a,message:s}}}=t;(0,p.Z)(a,s)}}},(({values:e,errors:t,touched:a,handleChange:l,isValid:n,dirty:r})=>s.createElement(d.Z,{name:"form-login",text:"Еще не зарегистрированы?",textLink:"Регистрация",textButton:"Войти",path:"/registration",title:"Вход",disabled:!n||!r,isDataFetching:g},s.createElement("ul",{className:"auth__list auth__list_active"},s.createElement("li",null,s.createElement(m.Z,{type:"text",placeholder:"Email*",name:"email",htmlFor:"email",isInputPassword:!1,onChange:l,value:e.email,errors:t.email,touched:a.email})),s.createElement("li",null,s.createElement(m.Z,{type:"password",placeholder:"Пароль*",name:"password",htmlFor:"password",isInputPassword:!0,onChange:l,value:e.password,errors:t.password,touched:a.password})))))))}}}]);